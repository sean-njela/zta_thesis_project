{"config":{"lang":["en"],"separator":"[\\s\\u200b\\-_,:!=\\[\\]()\"`/]+|\\.(?!\\d)|&[lg]t;|(?!\\b)(?=[A-Z][a-z])","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"\ud83d\ude80 Zero Trust Microservices Demo","text":"<p>A hands-on implementation of Zero Trust Architecture using Kubernetes, Istio, and Helm.</p> <p>Welcome to the official documentation site for Zero Trust Microservices Demo! This site provides full guides on setup, architecture, usage, performance analysis, and security enforcement using Zero Trust principles.</p>"},{"location":"#quick-overview","title":"\ud83e\udded Quick Overview","text":"<ul> <li>\ud83d\udd27 This project simulates a microservices deployment inside a local Kubernetes cluster with Zero Trust enforcement using Istio.</li> <li>\ud83c\udfaf It demonstrates how service-to-service communication is secured via identity, mTLS, and fine-grained RBAC policies.</li> <li>\ud83d\udd17 Live demo not hosted, but reproducible fully in a local environment using <code>Kind</code> and <code>task dev</code>.</li> </ul>"},{"location":"#getting-started","title":"\u26a1 Getting Started","text":"<p>Visit the Quick Start page in the docs for step-by-step instructions to bootstrap your cluster, deploy services, and simulate traffic flow with and without Zero Trust.</p>"},{"location":"#architecture-components","title":"\ud83d\udcd0 Architecture &amp; Components","text":"<p>Dive into how the project is architected:</p> <ul> <li>\ud83d\udd04 Deployment is Helm-based using a modular chart (<code>zta-demo-app</code>)</li> <li>\ud83d\udd12 Security is handled by Istio + SPIRE for workload identity</li> <li>\ud83e\uddf1 Infra is bootstrapped using <code>Taskfile.yaml</code> with zero manual steps</li> </ul> <p>For full diagrams, workflows, and explanations, visit Architecture.</p>"},{"location":"#documentation-roadmap","title":"\ud83d\udcda Documentation Roadmap","text":"<ul> <li>Quick Start \u2192 Setup, prerequisites, and usage</li> <li>Architecture \u2192 System overview, component breakdown</li> <li>Features / Topics \u2192 ZTA toggling, service access flows, token authentication</li> <li>About Me \u2192 Author info and project background</li> </ul> <p>Use the sidebar for easy navigation.</p>"},{"location":"#examples-use-cases","title":"\ud83e\uddea Examples &amp; Use Cases","text":"<p>Key examples this project demonstrates:</p> <ul> <li>\ud83e\uddea Insecure service communication in a typical mesh setup</li> <li>\ud83d\udd10 Enforcement of Zero Trust via Istio AuthorizationPolicy and PeerAuthentication</li> <li>\ud83d\udcc9 Latency benchmarking before vs after ZTA activation</li> <li>\ud83d\udee1\ufe0f Realistic threat modeling: lateral movement blocked without identity</li> </ul>"},{"location":"#useful-links","title":"\ud83d\udd17 Useful Links","text":"<ul> <li>\ud83d\udd27 Getting Started</li> <li>\ud83d\udcca System Architecture</li> <li>\ud83d\udcdd Dive into Features</li> <li>\ud83e\uddd1\u200d\ud83d\udcbc About Me</li> </ul>"},{"location":"#contributions-feedback","title":"\ud83d\udca1 Contributions &amp; Feedback","text":"<p>Contributions welcome! Please open GitHub issues or PRs. License: MIT \u2022 Maintained by Sean Njela</p>"},{"location":"disclaimer/","title":"\ud83d\udcc4 Disclaimer","text":"<p>The information and resources provided in this project are intended for educational and informational purposes only.</p>"},{"location":"disclaimer/#no-warranty","title":"\ud83d\udea7 No Warranty","text":"<p>This project is provided \"as is\" without warranty of any kind\u2014express or implied. While I have made every effort to ensure the accuracy and reliability of the information, I make no guarantees about:</p> <ul> <li>Suitability for any specific purpose  </li> <li>Completeness or accuracy of configurations or scripts  </li> <li>Security of infrastructure or deployments  </li> </ul> <p>Use at your own risk.</p>"},{"location":"disclaimer/#for-personal-use-learning","title":"\ud83d\udee0 For Personal Use / Learning","text":"<p>This project is part of a personal portfolio and is primarily intended to:</p> <ul> <li>Demonstrate practical implementation of technical concepts  </li> <li>Serve as a sandbox for experimentation  </li> <li>Be a reference for future personal or professional projects  </li> </ul> <p>It is not intended for production use without proper review and adaptation.</p>"},{"location":"disclaimer/#security-and-sensitive-data","title":"\ud83d\udd10 Security and Sensitive Data","text":"<p>Do not reuse any credentials, tokens, secrets, or keys shown in this project. They are either fake, expired, or meant only for demonstration.</p> <p>Always handle secrets securely and follow best practices for secret management (e.g., environment variables, sealed secrets, vaults).</p>"},{"location":"disclaimer/#opinions-are-my-own","title":"\ud83d\udcac Opinions Are My Own","text":"<p>All opinions, techniques, and practices shared here reflect my personal learning journey and are not affiliated with or endorsed by any employer, client, or organization.</p>"},{"location":"disclaimer/#license","title":"\ud83d\udcdc License","text":"<p>This project is licensed under the MIT, which permits reuse, modification, and distribution\u2014with proper attribution.</p>"},{"location":"disclaimer/#contact","title":"\ud83d\udceb Contact","text":"<p>If you spot issues, risks, or have questions about how something works, feel free to reach out:</p> <ul> <li>\ud83d\udce7 your.email@example.com </li> <li>\ud83d\udc19 GitHub Issues</li> </ul>"},{"location":"0-quickstart/0-prerequisites/","title":"Prerequisites","text":"<p>This project uses Devbox to manage the development environment. Devbox provides a consistent, isolated environment with all the necessary CLI tools pre-installed.</p>"},{"location":"0-quickstart/0-prerequisites/#docker","title":"Docker","text":"<ul> <li>Follow the installation instructions for your operating system.</li> </ul> <p>The rest of the tools are already installed in the devbox environment</p>"},{"location":"0-quickstart/0-prerequisites/#devbox","title":"Devbox","text":"<ul> <li>Follow the installation instructions for your operating system.</li> </ul>"},{"location":"0-quickstart/0-prerequisites/#clone-the-repository","title":"Clone the Repository","text":"<pre><code>git clone https://github.com/sean-njela/zta_thesis_project.git\ncd zta_thesis_project\n</code></pre>"},{"location":"0-quickstart/0-prerequisites/#start-the-devbox-environment-and-poetry-environment","title":"Start the Devbox Environment and poetry environment","text":"<pre><code>devbox shell # Start the devbox environment (this will also start the poetry environment)\npoetry install # Install dependencies\npoetry env activate # use the output to activate the poetry environment ( ONLY IF DEVBOX DOES NOT ACTIVATE THE ENVIRONMENT)\n</code></pre> <p>Note</p> <p>The first time you run <code>devbox shell</code>, it will take a few minutes to install the necessary tools. But after that it will be much faster.</p>"},{"location":"0-quickstart/1-getting-started/","title":"\ud83d\ude80 Getting Started","text":"<p>Welcome! This section will walk you through how to get the project up and running on your local machine or development environment.</p>"},{"location":"0-quickstart/1-getting-started/#prerequisites","title":"\ud83e\uddf0 Prerequisites","text":"<p>Before you begin, ensure you have the following installed all the requirements. See the Prerequisites section for detailed instructions on installing these tools.</p>"},{"location":"0-quickstart/1-getting-started/#walkthrough","title":"\u2705 Walkthrough","text":"<p>After everything is wired up, you can run the following commands:</p> <pre><code>task dev # this one command will run all commands necessary to setup the environment\n</code></pre> <p>This will start the devbox environment and poetry environment and install all dependencies. And that is all you need to do to get started. (Yes, really.)</p> <p>In a seperate terminal, run:</p> <pre><code>task docs # serve docs locally\n</code></pre> <p>Docs available at: http://127.0.0.1:8000/</p> <p>All other commands are in the form of tasks. The project task file is <code>Taskfile.yaml</code>.</p> <pre><code>task --list-all # to see all project tasks\ntask &lt;command&gt; # usage\n</code></pre> <p>The project also uses gitflow for version control with gh-pages deployment automation. This is optional but you can also automate it using the <code>Taskfile.gitflow.yaml</code> file.</p> <pre><code>task -t Taskfile.gitflow.yaml --list-all # to see all gitflow tasks\ntask -t Taskfile.gitflow.yaml &lt;command&gt; # usage\n</code></pre> <p>See the Tasks section for more information on all tasks.</p>"},{"location":"0-quickstart/1-getting-started/#cleanup","title":"\ud83e\uddfc Cleanup","text":"<p>To tear everything down after testing:</p> <pre><code>task cleanup-dev # to cleanup everything running locally\ntask cleanup-prod # to cleanup everything running in production (IF YOU USED ANY PROD. WORKFLOWS)\ntask cleanup-all # to cleanup everything (local and production)\n</code></pre>"},{"location":"0-quickstart/1-getting-started/#need-help","title":"\u2753 Need Help?","text":"<p>If you get stuck:</p> <ul> <li>Check the Troubleshooting guide.</li> <li>Open an issue on GitHub</li> </ul> <p>Happy building! \ud83d\udee0</p>"},{"location":"1-architecture/0-overview/","title":"\ud83e\uddf1 System Architecture Overview","text":"<p>This section provides a high-level overview of the architecture and design decisions behind the project. It outlines the system's core components, their responsibilities, and how they interact.</p> <p>Normally applications are secure at the perimeter of the network. This can cause issues when an application is compromised, as the attacker can access the entire network by moving laterally.</p> <p>This project demonstrates a shift from traditional perimeter-based models to a Zero Trust Architecture (ZTA) using Kubernetes, Istio, and a microservices deployment. Initially, an application is deployed without ZTA, allowing unrestricted cross-service communication. Then, ZTA features are enabled, which blocks unauthorized service calls until a valid token is presented.</p> <p> </p>"},{"location":"1-architecture/0-overview/#design-philosophy","title":"\ud83d\udcd0 Design Philosophy","text":"<ul> <li>Modular and composable: Each component, from the service mesh to application services, is isolated and independently replaceable.</li> <li>Secure by default: With ZTA activated, all communication is encrypted, authenticated, and authorized.</li> <li>Automation-first: Environment provisioning, cluster setup, and app deployment are fully automated via Taskfile and Helm.</li> <li>Portable/local-dev friendly: Runs in a local Kind cluster, simulating real-world distributed infrastructure for testing and experimentation.</li> </ul>"},{"location":"1-architecture/0-overview/#core-components","title":"\ud83e\udde9 Core Components","text":""},{"location":"1-architecture/0-overview/#1-infrastructure","title":"1. Infrastructure","text":"<ul> <li>A local Kind cluster (task dev) is used to simulate a production-like Kubernetes environment.</li> <li>All deployments (Istio, demo app, policies) are automated and declarative.</li> <li>Helm is used to package and manage Kubernetes resources for the ZTA demo app.</li> <li>ZTA features can be toggled using Taskfile commands (task activate-zta, task deactivate-zta).</li> </ul>"},{"location":"1-architecture/0-overview/#2-cicd","title":"2. CI/CD","text":"<ul> <li>While no external CI/CD pipelines were configured, Git-style workflows are facilitated by Taskfile.gitflow.yaml.</li> <li>Application images are built and optionally pushed using Docker Buildx.</li> <li>Deployment automation mirrors GitOps-like patterns using Helm and manifests, although ArgoCD was not used in this version.</li> </ul>"},{"location":"1-architecture/0-overview/#3-secrets-configuration","title":"3. Secrets &amp; Configuration","text":"<ul> <li>Secrets and feature flags (such as enabling/disabling ZTA components) are managed via values-local.yaml.</li> <li>Secure configuration toggling is done using yq, enabling safe and auditable activation of:</li> <li><code>authn</code>, <code>authz</code>, <code>gateway</code>, <code>svcentry</code>, <code>virtualsvc</code> components in Istio.</li> <li>Token-based authentication flows are handled via an external Auth0-compatible provider with credentials set in .env.</li> </ul>"},{"location":"1-architecture/0-overview/#architecture-diagram","title":"\ud83d\udd00 Architecture Diagram","text":"<p>This diagram shows the same service mesh and microservices environment, but with ZTA enabled. All inter-service traffic is blocked unless explicitly authorized via mTLS and policy rules. Services must present valid identities and tokens to access restricted endpoints.</p>"},{"location":"1-architecture/0-overview/#data-control-flow","title":"\ud83d\udd04 Data / Control Flow","text":"<p>The following summarizes the lifecycle of the system and how traffic is controlled:</p> <ol> <li> <p>User runs task dev:</p> <ul> <li>Kind cluster is created and configured.</li> <li>Istio is installed and namespace is labeled for sidecar injection.</li> </ul> </li> <li> <p>Helm chart for zta-demo-app is deployed to the cluster.</p> </li> <li> <p>Initially, ZTA components (authn/authz) are disabled; inter-service traffic flows unrestricted.</p> </li> <li> <p>task activate-zta modifies the Helm values to enable Istio ZTA resources.</p> </li> <li> <p>Unauthorized service requests are now blocked.</p> </li> <li> <p>A valid token is fetched via task get-token and used in a curl command inside the pod to access protected endpoints.</p> </li> <li> <p>Logs and metrics are collected using Prometheus, Grafana, and Istio\u2019s built-in observability stack.</p> </li> </ol>"},{"location":"1-architecture/0-overview/#related-pages","title":"\ud83e\udded Related Pages","text":"<ul> <li>Quickstart: Getting Started</li> <li>Topics / Application Layer</li> <li>Taskfile Automation</li> </ul>"},{"location":"2-project/0-topic1/","title":"\ud83d\ude80 Implementation","text":"<p>We start by deploying a simple Flask application into a Kubernetes cluster without Zero Trust controls enabled. This allows us to establish a security baseline, observe open service-to-service communication, and then incrementally enforce Zero Trust Architecture (ZTA) for comparison.</p>"},{"location":"2-project/0-topic1/#step-by-step-breakdown","title":"\ud83d\udd27 Step-by-Step Breakdown","text":""},{"location":"2-project/0-topic1/#1-initial-deployment-zta-disabled","title":"\ud83d\udfe2 1. Initial Deployment (ZTA Disabled)","text":"<ul> <li>Run the following to provision the environment:</li> </ul> <pre><code>task dev\n</code></pre> <p>This command automates:</p> <ul> <li> <p>Kind cluster creation</p> </li> <li> <p>Namespace and image setup</p> </li> <li> <p>Helm-based app deployment (<code>zta-demo-app</code>)</p> </li> <li> <p>Istio installation (without ZTA policies activated)</p> </li> <li> <p>The following values in <code>values-local.yaml</code> are disabled by default:</p> </li> </ul> <pre><code>authn:\n  enabled: false\nauthz:\n  enabled: false\ngateway:\n  enabled: false\nvirtualsvc:\n  enabled: false\nsvcentry:\n  enabled: false\n</code></pre> <p>\u2705 This results in unrestricted cross-service communication inside the mesh.</p> <ul> <li>Inside a pod:</li> </ul> <pre><code>curl zta-demo-app-service:8080/hello\n</code></pre> <p>Returns:</p> <pre><code>Hello I am reachable! from zta-demo-app-&lt;pod-name&gt;\n</code></pre> <p>This is expected because there is no authentication or authorization in place. This insecure state means any compromised pod can access internal services freely.</p> Before Zero Trust Architecture <p> </p>"},{"location":"2-project/0-topic1/#2-enabling-zero-trust","title":"\ud83d\udd12 2. Enabling Zero Trust","text":"<p>To activate Zero Trust components, run:</p> <pre><code>task activate-zta\n</code></pre> <p>This uses <code>yq</code> to toggle the following values in <code>values-local.yaml</code>:</p> <pre><code>authn:\n  enabled: true\nauthz:\n  enabled: true\ngateway:\n  enabled: true\nvirtualsvc:\n  enabled: true\nsvcentry:\n  enabled: true\n</code></pre> <p>Then it triggers a Helm upgrade and waits for the pods to be ready.</p> <ul> <li>Now, try the same <code>curl</code> command again from another pod:</li> </ul> <pre><code>curl zta-demo-app-service:8080/hello\n</code></pre> <p>Returns:</p> <pre><code>RBAC: access denied\n</code></pre> <p>Zero Trust policies enforced via Istio now block all traffic that is not explicitly allowed.</p> After Zero Trust Architecture <p> </p>"},{"location":"2-project/0-topic1/#3-access-with-token","title":"\ud83d\udd10 3. Access with Token","text":"<p>To access the service securely:</p> <ul> <li>Run:</li> </ul> <pre><code>task get-token\n</code></pre> <p>This retrieves a JWT access token using the configured Auth0 credentials and writes it to <code>token.txt</code>.</p> <ul> <li>Then use it inside the pod:</li> </ul> <pre><code>curl zta-demo-app-service:8080/hello -H \"Authorization: Bearer $token\"\n</code></pre> <p>This returns:</p> <pre><code>Hello I am reachable! from zta-demo-app-&lt;pod-name&gt;\n</code></pre> <p>The request is now authorized, authenticated, and securely handled via mTLS and policy rules.</p>"},{"location":"2-project/0-topic1/#performance-comparison","title":"\u2696\ufe0f Performance Comparison","text":"<p>We use <code>curl</code> with the <code>-w</code> flag to compare the latency introduced by ZTA.</p>"},{"location":"2-project/0-topic1/#before-zta","title":"\u23f1 Before ZTA","text":"<pre><code>curl -o /dev/null -s -w \"Total: %{time_total}s\\n\" zta-demo-app-service:8080/hello\n</code></pre> <p>Output:</p> <pre><code>Total: 0.005481s\n</code></pre>"},{"location":"2-project/0-topic1/#after-zta-token-authenticated","title":"\u23f1 After ZTA (Token Authenticated)","text":"<pre><code>curl -o /dev/null -s -w \"Total: %{time_total}s\\n\" zta-demo-app-service:8080/hello -H \"Authorization: Bearer $token\"\n</code></pre> <p>Output:</p> <pre><code>Total: 0.005916s\n</code></pre> Before Zero Trust Architecture <p></p> After Zero Trust Architecture <p></p>"},{"location":"2-project/0-topic1/#performance-perspective","title":"\ud83e\udde0 Performance Perspective","text":"<p>The added latency of ~435 microseconds (\u00b5s) is negligible:</p> Comparison Value Human reaction time ~0.2\u20130.3 seconds One frame at 60 FPS ~0.0167 seconds Latency added by ZTA ~0.0004 seconds <p>\ud83d\udd10 In return for this near-zero impact, we gain end-to-end service authentication, traffic encryption, and granular access control.</p>"},{"location":"2-project/tasks/0-overview/","title":"Overview","text":"<p>This Taskfile defines automation tasks to simplify development workflows and ensure consistency across environments.</p> <p>It abstracts repetitive shell commands into named tasks you can run with:</p> <pre><code>task &lt;task-name&gt; # runs a task\n</code></pre> <p>You can list all available tasks with:</p> <pre><code>task --list-all\n</code></pre> <p>For detailed details about taskfile use:</p> <ul> <li>Main Taskfile</li> <li>GitFlow Taskfile</li> </ul>"},{"location":"2-project/tasks/0-overview/#contact","title":"\ud83d\udcec Contact","text":"<p>Questions or issues with GitFlow setup? Reach out via GitHub Issues or email at your.email@example.com.</p>"},{"location":"2-project/tasks/1-main-taskfile/","title":"\ud83e\uddf0 Main Taskfile Overview","text":"<p>This section describes the purpose and layout of the main <code>Taskfile.yaml</code> used in this project. The Taskfile defines automation tasks to simplify development workflows and ensure consistency across environments.</p>"},{"location":"2-project/tasks/1-main-taskfile/#purpose-of-this-taskfile","title":"\u2699\ufe0f Purpose of This Taskfile","text":"<p>This Taskfile provides command-line shortcuts for tasks like:</p> <ul> <li>Bootstrapping a local Kind cluster with Istio</li> <li>Deploying the ZTA-enabled demo app using Helm</li> <li>Toggling Zero Trust policies on/off</li> <li>Building and pushing Docker images</li> <li>Fetching authorization tokens for mTLS-authenticated service access</li> <li>Serving MkDocs-based documentation locally</li> </ul> <p>It abstracts repetitive shell commands into named tasks you can run with:</p> <pre><code>task &lt;task-name&gt;\n</code></pre>"},{"location":"2-project/tasks/1-main-taskfile/#core-sections","title":"\ud83e\uddf1 Core Sections","text":""},{"location":"2-project/tasks/1-main-taskfile/#1-setup-initialization","title":"1. Setup &amp; Initialization","text":"<p>Includes tasks for:</p> <ul> <li>Creating the Kind cluster (<code>task create-cluster</code>)</li> <li>Labeling namespaces for Istio sidecar injection</li> <li>Preparing Docker Buildx builder for multi-platform builds</li> <li>Creating necessary namespaces (<code>zta-demo</code>)</li> </ul>"},{"location":"2-project/tasks/1-main-taskfile/#2-development-workflow","title":"2. Development Workflow","text":"<p>Common tasks for:</p> <ul> <li>Starting the full dev environment with <code>task dev</code></li> <li>Automatically deploying Istio and Helm charts</li> <li>Port-forwarding to access the app on <code>localhost:8081</code></li> <li>Activating and deactivating ZTA (<code>task activate-zta</code>, <code>task deactivate-zta</code>)</li> </ul>"},{"location":"2-project/tasks/1-main-taskfile/#3-documentation","title":"3. Documentation","text":"<p>Tasks to:</p> <ul> <li>Serve documentation locally using MkDocs (<code>task docs</code>)</li> <li>Automatically watch for changes and hot-reload the preview</li> </ul>"},{"location":"2-project/tasks/1-main-taskfile/#4-deployment-automation","title":"4. Deployment &amp; Automation","text":"<p>Tasks automate:</p> <ul> <li>Building Docker images (<code>task build-local</code>, <code>task build-push</code>)</li> <li>Pushing images to remote registries</li> <li>Upgrading app Helm chart (<code>task upgrade-all</code>)</li> <li>Applying dynamic config changes using <code>yq</code></li> </ul>"},{"location":"2-project/tasks/1-main-taskfile/#5-cleanup-teardown","title":"5. Cleanup &amp; Teardown","text":"<p>Includes safe commands to:</p> <ul> <li>Remove Kind cluster and Helm releases (<code>task cleanup-dev</code>)</li> <li>Delete generated files like <code>token.txt</code> and kubeconfigs</li> <li>Reset state for fresh Zero Trust experiments</li> </ul>"},{"location":"2-project/tasks/1-main-taskfile/#typical-usage-flow","title":"\ud83e\uddea Typical Usage Flow","text":"<p>A typical flow using this Taskfile might look like:</p> <ul> <li>Set up your environment:</li> </ul> <pre><code>task setup\n</code></pre> <ul> <li>Start development:</li> </ul> <pre><code>task dev\n</code></pre> <ul> <li>Activate Zero Trust:</li> </ul> <pre><code>task activate-zta\n</code></pre> <ul> <li>Get a valid token and test curl:</li> </ul> <pre><code>task get-token\n</code></pre> <ul> <li>Serve documentation:</li> </ul> <pre><code>task docs\n</code></pre> <ul> <li>Clean up:</li> </ul> <pre><code>task cleanup-dev\n</code></pre>"},{"location":"2-project/tasks/1-main-taskfile/#notes","title":"\ud83d\udcdd Notes","text":"<ul> <li>To list all available tasks:</li> </ul> <pre><code>task --list-all\n</code></pre> <ul> <li>Variables and flags can be passed to tasks like so:</li> </ul> <pre><code>task build-local TAG=mytag\n</code></pre> <ul> <li>You can structure task dependencies using <code>deps:</code> and reuse shell logic cleanly across environments.</li> </ul>"},{"location":"2-project/tasks/1-main-taskfile/#tips","title":"\ud83d\udcdd Tips","text":"Key Description dotenv + env: Loads <code>.env</code> to inject secrets like Auth0 credentials. vars: Supports Git-derived tags or CLI overrides for dynamic configuration. prompt: Use confirmation prompts before destructive actions (e.g., uninstall). preconditions: Ensure cluster exists before attempting deployment. deps: Used to serialize setup steps (e.g., <code>setup</code> \u2192 <code>create-cluster</code> \u2192 <code>istio</code>). internal: Tasks like <code>_deploy</code> are hidden helpers invoked only by higher-level tasks. platforms: Set up Buildx for multi-arch Docker builds if targeting ARM or others. requires: Not used here, but can enforce vars like <code>REPOSITORY</code>. status: Skips setup if the cluster is already running (e.g., using <code>kubectx</code>)."},{"location":"2-project/tasks/1-main-taskfile/#related-docs","title":"\ud83d\udd17 Related Docs","text":"<ul> <li>GitFlow Taskfile</li> <li>Getting Started</li> <li>Architecture Overview</li> </ul>"},{"location":"2-project/tasks/1-main-taskfile/#contact","title":"\ud83d\udcec Contact","text":"<p>For issues or suggestions related to automation and task structure, open an issue or contact the maintainer at sean.njela@gmail.com.</p>"},{"location":"2-project/tasks/2-gitflow-taskfile/","title":"\ud83d\udd00 GitFlow Taskfile Overview","text":"<p>This page explains the structure and functionality of the <code>Taskfile.gitflow.yml</code> file, which automates a standardized Git workflow using Git Flow conventions. This taskfile is designed to simplify and formalize branching, releasing, and hotfixing in projects that follow the GitFlow methodology.</p> <p>It is optional to use gitflow.</p> <p>If you do not want to use it, you can remove the <code>Taskfile.gitflow.yml</code> file and unlink it from the <code>Taskfile.yaml</code> file (remove the <code>includes</code> section). If you cannot find the section use <code>CTRL + F</code> to search for Taskfile.yaml.</p>"},{"location":"2-project/tasks/2-gitflow-taskfile/#what-is-git-flow","title":"\ud83d\udce6 What is Git Flow?","text":"<p>Git Flow is a branching strategy that separates feature development from production releases. It introduces long-lived branches like <code>main</code> and <code>develop</code>, as well as temporary branches for features, releases, and hotfixes.</p>"},{"location":"2-project/tasks/2-gitflow-taskfile/#purpose-of-this-taskfile","title":"\u2699\ufe0f Purpose of This Taskfile","text":"<p>The <code>Taskfile.gitflow.yml</code> automates repetitive Git Flow actions using the <code>task</code> CLI tool. It allows you to:</p> <ul> <li>Initialize a Git Flow structure with default branches and prefixes</li> <li>Create and finish feature branches</li> <li>Create release and hotfix branches</li> <li>Push and merge code with consistent naming and flow</li> <li>Eliminate manual mistakes in branch naming or merging</li> </ul> <p>This is especially useful in teams or long-running solo projects where structured release cycles are important.</p>"},{"location":"2-project/tasks/2-gitflow-taskfile/#what-this-taskfile-automates","title":"\ud83e\udde9 What This Taskfile Automates","text":"<p>Here\u2019s a breakdown of what\u2019s covered:</p>"},{"location":"2-project/tasks/2-gitflow-taskfile/#1-initialization","title":"1. Initialization","text":"<ul> <li>Sets up Git Flow with <code>main</code> as the production branch and <code>develop</code> for ongoing work.</li> <li>Configures standard prefixes (<code>feature/</code>, <code>release/</code>, <code>hotfix/</code>, etc.).</li> <li>Ensures required branches (<code>main</code>, <code>develop</code>) exist locally and remotely.</li> <li>Optionally initializes the <code>gh-pages</code> branch for documentation deployments.</li> </ul> <p>This is typically run once at the start of the project using <code>task -t Taskfile.gitflow.yml init</code>.</p>"},{"location":"2-project/tasks/2-gitflow-taskfile/#2-feature-branch-management","title":"2. Feature Branch Management","text":"<ul> <li>Start a new feature branch from <code>develop</code></li> <li>Finish a feature by merging it back into <code>develop</code></li> <li>Automatically push changes to the remote</li> <li>Prevents common mistakes like forgetting to push or rebase</li> </ul>"},{"location":"2-project/tasks/2-gitflow-taskfile/#3-release-branch-management","title":"3. Release Branch Management","text":"<ul> <li>Create a release branch off <code>develop</code></li> <li>Optionally tag a version</li> <li>Merge into <code>main</code> and <code>develop</code></li> <li>Clean up the release branch</li> <li>Pushes changes and tags to the remote</li> </ul>"},{"location":"2-project/tasks/2-gitflow-taskfile/#4-hotfix-branch-management","title":"4. Hotfix Branch Management","text":"<ul> <li>Create a hotfix directly off <code>main</code> (for production issues)</li> <li>Merge back into both <code>main</code> and <code>develop</code></li> <li>Optionally tag the hotfix release</li> <li>Push changes and remove local branches</li> </ul>"},{"location":"2-project/tasks/2-gitflow-taskfile/#5-branch-cleanup-and-syncing","title":"5. Branch Cleanup and Syncing","text":"<ul> <li>Deletes local feature/release branches after merging</li> <li>Pulls and syncs remote branches as needed</li> </ul>"},{"location":"2-project/tasks/2-gitflow-taskfile/#typical-usage-flow","title":"\ud83d\uddc2 Typical Usage Flow","text":"<ol> <li> <p>Initialize GitFlow structure <pre><code>task init\n</code></pre></p> </li> <li> <p>Start a new feature <pre><code>task feature:start name=\"add-login\"\n</code></pre></p> </li> <li> <p>Finish a feature <pre><code>task feature:finish name=\"add-login\"\n</code></pre></p> </li> <li> <p>Start a release <pre><code>task release:start version=\"1.0.0\"\n</code></pre></p> </li> <li> <p>Start a hotfix <pre><code>task hotfix:start version=\"1.0.1\"\n</code></pre></p> </li> <li> <p>Finish a release <pre><code>task release:finish version=\"1.0.0\"\n</code></pre></p> </li> <li> <p>Finish a hotfix <pre><code>task hotfix:finish version=\"1.0.1\"\n</code></pre></p> </li> </ol>"},{"location":"2-project/tasks/2-gitflow-taskfile/#when-should-you-use-this","title":"\ud83e\udde0 When Should You Use This?","text":"<p>Use this taskfile when:</p> <ul> <li>You want consistent branch names and GitFlow discipline</li> <li>You're working in long-lived projects that ship versioned releases</li> <li>You have documentation (e.g. via <code>mike</code>) that needs coordinated tagging</li> <li>You want to automate repetitive Git steps safely</li> </ul> <p>Avoid using it if:</p> <ul> <li>Your workflow is trunk-based (i.e., no <code>develop</code>)</li> <li>You're doing rapid prototyping without versioning</li> </ul>"},{"location":"2-project/tasks/2-gitflow-taskfile/#notes","title":"\ud83d\udcdd Notes","text":"<ul> <li>This taskfile assumes Git is already initialized and the remote origin is set.</li> <li>It is safe to re-run <code>init</code>; it won\u2019t overwrite existing GitFlow config.</li> <li>The file uses <code>{{.VAR_NAME}}</code> placeholders \u2014 these are defined in the task's command-line usage.</li> <li>You can see available tasks by running:</li> </ul> <pre><code>task --list-all\n</code></pre>"},{"location":"2-project/tasks/2-gitflow-taskfile/#related-docs","title":"\ud83d\udd17 Related Docs","text":"<ul> <li>Main Taskfile Overview</li> <li>Getting Started</li> <li>Architecture</li> </ul>"},{"location":"2-project/tasks/2-gitflow-taskfile/#contact","title":"\ud83d\udcec Contact","text":"<p>Questions or issues with GitFlow setup? Reach out via GitHub Issues or email at your.email@example.com.</p>"},{"location":"3-troubleshooting/0-overview/","title":"\ud83d\udee0\ufe0f Troubleshooting Guide Overview","text":"<p>Welcome to the troubleshooting section of this documentation. This guide exists to help you diagnose and resolve common issues that may arise while using or setting up this project.</p> <p>Use the search bar at the top of this page to type keywords related to your issue (e.g., docker, cluster, permissions) and quickly find relevant entries.</p>"},{"location":"3-troubleshooting/0-overview/#what-youll-find-here","title":"\ud83d\udcda What You'll Find Here","text":"<p>Each page in this section covers a specific issue or category of problems. These are meant to be: - Concise - Actionable - Focused on real problems encountered during development or deployment</p> <p>You can browse specific problem pages here:</p> <ul> <li>Problem 1</li> <li>Problem 2</li> <li>(More will be added as new issues are documented)</li> </ul> <p>Important Disclaimer</p> <p>This is a personal documentation site. I am maintaining it solo and cannot guarantee that every issue is fully documented or resolved. If you don\u2019t find a solution here, don\u2019t panic \u2014 most tools used in this project (e.g., Docker, Kubernetes, Terraform, Devbox) are widely adopted and well-supported. Try these resources first:</p> <ol> <li>ChatGPT or another AI assistant \u2013 Quick answers and guided debugging  </li> <li>YouTube \u2013 Visual walkthroughs for complex tools or errors  </li> <li>Google \u2013 Forums, GitHub Issues, and StackOverflow posts are often goldmines  </li> </ol>"},{"location":"3-troubleshooting/0-overview/#pro-tip","title":"\ud83e\udde0 Pro Tip","text":"<p>When searching using the search bar above, include the name of the tool or parts of the error message (in quotes if exact), e.g.:</p> <p>\"helm install\" or \"helm\" \"chart not found\" or \"not found\" \"terraform apply\" or \"terraform\" \"invalid provider configuration\" or \"provider not found\" \"kubectl apply\" or \"kubectl\" \"namespace not found\" or \"namespace does not exist\"</p> <p>Thank you for your patience and initiative \u2014 the more we learn from problems, the better this documentation will become.</p>"},{"location":"3-troubleshooting/1-problem1/","title":"\u2757 Inter-service Call Fails After ZTA Activation (RBAC: access denied)","text":""},{"location":"3-troubleshooting/1-problem1/#context","title":"\ud83e\udded Context","text":"<p>This issue occurs during testing of Zero Trust Architecture enforcement in a local Kubernetes cluster using a Kind-based environment.</p> <ul> <li>Tool used: <code>curl</code> inside a pod (manual test)</li> <li>Command run:</li> </ul> <p><pre><code>curl zta-demo-app-service:8080/hello\n</code></pre> * Environment: <code>Kind</code> cluster bootstrapped via <code>task dev</code>, ZTA activated with <code>task activate-zta</code> * Precondition: Helm values toggled to enable <code>authn</code>, <code>authz</code>, <code>gateway</code>, etc.</p>"},{"location":"3-troubleshooting/1-problem1/#symptoms","title":"\ud83e\udde8 Symptoms","text":"<ul> <li>Curl request from one pod to another fails with:</li> </ul> <pre><code>RBAC: access denied\n</code></pre> <ul> <li> <p>No service response, Istio blocks traffic based on authorization policies</p> </li> <li> <p>No issues observed before enabling ZTA</p> </li> </ul>"},{"location":"3-troubleshooting/1-problem1/#possible-causes","title":"\ud83d\udccc Possible Causes","text":"<ul> <li>Istio <code>AuthorizationPolicy</code> now enforces strict service identity checks</li> <li>No valid JWT token or SPIFFE identity presented in service call</li> <li>Sidecar injection is active, but traffic lacks credentials to satisfy ZTA rules</li> </ul>"},{"location":"3-troubleshooting/1-problem1/#resolution-if-available","title":"\u2705 Resolution (If Available)","text":"<p>\u2705 Fetch a valid token using:</p> <pre><code>task get-token\n</code></pre> <p>Then retry the request inside the pod with:</p> <pre><code>curl zta-demo-app-service:8080/hello -H \"Authorization: Bearer $token\"\n</code></pre> <p>This restores access by satisfying the authentication and authorization layers.</p>"},{"location":"3-troubleshooting/1-problem1/#workarounds-optional","title":"\ud83e\uddea Workarounds (Optional)","text":"<ul> <li>Temporarily disable ZTA by running:</li> </ul> <pre><code>task deactivate-zta\n</code></pre> <p>Not recommended in production but useful for debugging.</p>"},{"location":"3-troubleshooting/1-problem1/#external-references","title":"\ud83d\udd17 External References","text":"<ul> <li>Istio Authorization Policies</li> <li>Taskfile.yaml \u2013 activate-zta logic</li> </ul>"},{"location":"3-troubleshooting/1-problem1/#notes","title":"\ud83e\udde0 Notes","text":"<ul> <li>This issue is expected once ZTA is active</li> <li>A helpful follow-up task could pre-check token presence or inject it automatically into test pods</li> <li>Should be documented clearly in the developer onboarding section</li> </ul>"},{"location":"3-troubleshooting/2-problem2/","title":"\u2757 Requests Fail Immediately After <code>activate-zta</code> or <code>deactivate-zta</code>","text":""},{"location":"3-troubleshooting/2-problem2/#context","title":"\ud83e\udded Context","text":"<p>This issue arises when quickly testing service-to-service communication right after toggling Zero Trust settings via:</p> <pre><code>task activate-zta\n# or\ntask deactivate-zta\n</code></pre> <ul> <li>Tool used: <code>curl</code> from inside a pod</li> <li>Environment: Kind cluster (<code>task dev</code>)</li> <li>Trigger: Immediate request to <code>zta-demo-app-service</code> after ZTA config change</li> </ul>"},{"location":"3-troubleshooting/2-problem2/#symptoms","title":"\ud83e\udde8 Symptoms","text":"<ul> <li>Unexpected failures such as:</li> </ul> <pre><code>RBAC: access denied\n</code></pre> <p>or</p> <pre><code>curl: (7) Failed to connect to zta-demo-app-service port 8080\n</code></pre> <ul> <li> <p>Pods appear stuck in pending or restarting state temporarily</p> </li> <li> <p>Some requests work after retrying a few seconds later</p> </li> </ul>"},{"location":"3-troubleshooting/2-problem2/#possible-causes","title":"\ud83d\udccc Possible Causes","text":"<ul> <li> <p>Helm applies new Istio configs (authn/authz/gateway), which trigger:</p> </li> <li> <p>Pod restarts due to sidecar injection updates</p> </li> <li>Configuration propagation delays across Istio components</li> <li>Load balancer or DNS cache may reference stale pod/service states</li> </ul>"},{"location":"3-troubleshooting/2-problem2/#resolution-if-available","title":"\u2705 Resolution (If Available)","text":"<p>\u2705 Wait a few seconds (5\u201310s) after running <code>task activate-zta</code> or <code>task deactivate-zta</code> before testing with <code>curl</code>.</p> <p>\u2705 Confirm pod readiness:</p> <pre><code>kubectl get pods -n zta-demo\n</code></pre> <p>\u2705 Use <code>kubectl wait</code> (already part of <code>Taskfile</code>) to verify rollout:</p> <pre><code>kubectl wait --for=condition=ready pod -l app.kubernetes.io/instance=zta-demo-app --timeout=60s\n</code></pre>"},{"location":"3-troubleshooting/2-problem2/#workarounds-optional","title":"\ud83e\uddea Workarounds (Optional)","text":"<ul> <li>Add a delay manually before curl tests:</li> </ul> <pre><code>sleep 10\n</code></pre> <ul> <li>Add log checks to validate policy syncing before proceeding with testing</li> </ul>"},{"location":"3-troubleshooting/2-problem2/#external-references","title":"\ud83d\udd17 External References","text":"<ul> <li>Istio rollout behavior</li> <li>Helm &amp; Istio readiness considerations</li> </ul>"},{"location":"3-troubleshooting/2-problem2/#notes","title":"\ud83e\udde0 Notes","text":"<ul> <li>This behavior is transient but can confuse first-time testers</li> <li>Consider adding a note to <code>task activate-zta</code> and <code>task deactivate-zta</code> output reminding the user to wait</li> <li>Can also add a <code>post-deploy</code> validation or status check task in future versions</li> </ul>"},{"location":"4-about/0-about/","title":"\ud83d\udc64 About Me","text":"<p>Dang, you really wanna know huh?</p> <p>I\u2019m Sean Njela, DevOpsSean. I'm a developer, engineer, and lifelong learner documenting my personal and professional projects.</p> <p>This site serves as a central hub for my technical work, built using MkDocs and organized to reflect real-world implementations, lessons learned, and ongoing exploration in areas like DevOps, infrastructure, automation, and system design.</p>"},{"location":"4-about/0-about/#why-this-exists","title":"\ud83c\udfaf Why This Exists","text":"<p>This documentation is part of an ongoing effort to:</p> <ul> <li>Capture complex project setups in a reusable, referenceable format</li> <li>Practice clear technical communication</li> <li>Save future-me from future-headaches</li> <li>Share knowledge with others who might stumble across this work</li> </ul> <p>Whether you're here to learn, debug, borrow ideas, or just browse, you're welcome.</p>"},{"location":"4-about/0-about/#tools-and-tech-i-often-work-with","title":"\ud83e\uddf0 Tools and Tech I Often Work With","text":"<p>Some of the technologies you'll find across these projects:</p> <ul> <li>Containers: Docker, Kubernetes, Kind</li> <li>Infrastructure: Terraform, Helm, Devbox</li> <li>Automation: Taskfile, Make, CI/CD workflows</li> <li>Docs: MkDocs, markdown, GitHub Pages</li> <li>Languages: Python, Bash, YAML</li> </ul> <p>This stack evolves as I experiment and learn \u2014 not every project will use everything.</p>"},{"location":"4-about/0-about/#about-this-site","title":"\ud83d\uddc2 About This Site","text":"<ul> <li>Built with <code>mkdocs-material</code></li> <li>Versioned using <code>mike</code></li> <li>Fully local-first and Git-managed</li> <li>Organized by topic, not tool \u2014 documentation follows the problem or pattern</li> </ul>"},{"location":"4-about/0-about/#contact","title":"\ud83d\udcec Contact","text":"<p>I\u2019m always open to questions, feedback, or conversation:</p> <ul> <li>GitHub: @sean-njela</li> <li>Email: sean.njela@gmail.com</li> <li>Twitter/X: @devopssean</li> </ul> <p>Thanks for visiting \ud83d\ude4f</p>"}]}